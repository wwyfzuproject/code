<!DOCTYPE html>
<html lang="zh_CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>游戏中——蛙蛙游福大</title>
    <link rel="stylesheet" href="../css/gamegoing.css">
    <script src="../js/JQuery-3.6.1.min.js"></script>
    <script src="../js/jquery.cookie.js"></script>
    <script src="../js/move.js"></script>
    <script src="../js/coin&name.js"></script>
    <script src="../js/variable.js"></script>
    <script src="../js/map_player.js"></script>
</head>

<body>
    <div class="bgbox">
        <!-- 玩家1 -->
        <div class="role1">
            <!-- 111111 -->
            <div class="img1"></div>
            <div class="name1">
                <!-- <p id = "gamegoing"></p> -->
                <p>我</p>
                <div class="daka1">
                    <ul>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- mr1 地图上玩家1 -->
        <div class="mr1"><img src="../imagines/maprole1.png" alt="玩家1" class="p1"></div>
        <!-- 玩家2 -->
        <div class="role2">
            <div class="img2"></div>
            <div class="name2">
                <p>机器人</p>
                <div class="daka2">
                    <ul>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- mr2 地图上玩家2 -->
        <div class="mr2"><img src="../imagines/maprole2.png" alt="玩家2" class="p2"></div>
        <!-- 打卡点名称 -->
        <div class="name3">晋江楼->福友阁</div>
        <!-- 随机事件和小白站点 -->
        <div class="suiji">
            <ul>
                <li class="one"> <img src="../imagines/wenhao.png" alt="随机事件1" style="width: 30px;height: 30px;"></li>
                <li class="two"> <img src="../imagines/wenhao.png" alt="随机事件2" style="width: 30px;height: 30px;"></li>
                <li class="three"> <img src="../imagines/wenhao.png" alt="随机事件3" style="width: 30px;height: 30px;"></li>
                <li class="four"> <img src="../imagines/wenhao.png" alt="随机事件4" style="width: 30px;height: 30px;"></li>
                <li class="five"> <img src="../imagines/wenhao.png" alt="随机事件5" style="width: 30px;height: 30px;"></li>
                <li class="six"> <img src="../imagines/wenhao.png" alt="随机事件6" style="width: 30px;height: 30px;"></li>
                <li class="seven"> <img src="../imagines/wenhao.png" alt="随机事件7" style="width: 30px;height: 30px;"></li>
                <li class="eight"> <img src="../imagines/wenhao.png" alt="随机事件8" style="width: 30px;height: 30px;"></li>
                <li class="nine"> <img src="../imagines/wenhao.png" alt="随机事件9" style="width: 30px;height: 30px;"></li>
                <li class="ten"> <img src="../imagines/wenhao.png" alt="随机事件10" style="width: 30px;height: 30px;"></li>
                <li class="bus1"> <img src="../imagines/bus.png" alt="小白1" style="width: 28px;height: 28px;"></li>
                <li class="bus2"> <img src="../imagines/bus.png" alt="小白2" style="width: 28px;height: 28px;"></li>
                <li class="bus3"> <img src="../imagines/bus.png" alt="小白3" style="width: 28px;height: 28px;"></li>
            </ul>
        </div>
        <!-- 倒计时 -->
        <div class="time">倒计时</div>
        <!-- 骰子 -->
        <div class="touzi">
            <img src="../imagines/dice1.png" alt="骰子" id="tz">
            <!-- <img src="../imagines/dice2.png" alt="骰子"> -->
        </div>
    </div>
    <!-- 打卡点的弹窗 -->
    <div class="win2-daka">
        <div class="win2-content">
            <img src="../imagines/jinjianglou.PNG" alt="晋江楼" style="width: 450px;height: 400px;" id="pic1">
            <!-- <img src="../imagines/tushuguan.jpg" alt="图书馆" style="width: 450px;height: 400px;"> -->
            <!-- <img src="../imagines/sutuo.jpg" alt="素拓" style="width: 450px;height: 400px;"> -->
            <!-- <img src="../imagines/honghui.jpg" alt="宏晖" style="width: 450px;height: 400px;"> -->
            <!-- <img src="../imagines/fuyouge.jpg" alt="福友阁" style="width: 450px;height: 400px;"> -->
        </div>
    </div>
    <!-- 随机事件的弹窗 -->
    <div class="suijichoice">
        <div class="suiji-content">
            <div class="suijititle">随机事件选择</div>
            <!-- 选择让自己前进 -->
            <div class="ziji" id="ziji">让自己前进</div>
            <!-- 选择让对方前进 -->
            <div class="duifang" id="duifang">让对方前进</div>
        </div>
    </div>
    <!-- 游戏结束弹窗 -->
    <div class="win1-over">
        <div class="win1-content">
            <!-- 游戏结束弹窗的上部分 -->
            <div class="shang">游戏结束</div>
            <!-- 胜利玩家 -->
            <div class="winner">
                <!-- 胜利 -->
                <!-- 胜利玩家头像 -->
                <img src="../imagines/role1.png" alt="胜利的玩家" style="width: 60px;height: 60px;" class="touxiang1"> 
                <div class="winner-text">
                    <!-- 胜利玩家昵称 -->
                    <div class="winner-name">我</div>
                    <img src="../imagines/gold.png" alt="金币" class="jinbi" style="width: 20px; height: 20px;">
                    <div class="jinbishu">✖ 100</div>
                    <img src="../imagines/winnerimg.png" alt="胜利" class="winner-smile">
                </div>
            </div>
            <div class="loser">
                <!-- 失败 -->
                <!-- 失败玩家头像 -->
                <img src="../imagines/role2.png" alt="失败的玩家" style="width: 60px;height: 60px;" class="touxiang2">
                <div class="loser-text">
                    <!-- 失败玩家昵称 -->
                    <div class="loser-name">机器人</div>
                    <div class="shibai">挑战失败！</div>
                    <img src="../imagines/loserimg1.png" alt="失败" class="loser-smile">
                </div>
            </div>
            <button class="b1">返回</button>  <button class="b2">重新开始</button>
        </div>
    </div>
    
    <script>
        var flag = 1; //flag为奇数时p1行动，否则p2行动
        var player1 = document.querySelector('.p1');
        var player2 = document.querySelector('.p2');

        var tz = document.querySelector('#tz');
        var time = document.querySelector('.time');
        var num; //骰子数

        var judge = document.getElementsByClassName("win1-over");
        var dakajudge = document.getElementsByClassName("win2-daka");
        var iii=0;

        var target;
        //点击骰子后触发

        clock(time);
        //$('#tz').trigger('click');
        tz.addEventListener('click', function () {
            num = getnum(); //num从后端获取？
            // num = 1;
            time.innerHTML = '倒计时';
            clearInterval(time.timer);
            switch (num) {
                case 1:
                    tz.src = '../imagines/dice1.png';
                    break;
                case 2:
                    tz.src = '../imagines/dice2.png';
                    break;
                case 3:
                    tz.src = '../imagines/dice3.png';
                    break;
                case 4:
                    tz.src = '../imagines/dice4.png';
                    break;
                case 5:
                    tz.src = '../imagines/dice5.png';
                    break;
                case 6:
                    tz.src = '../imagines/dice6.png';
                    break;
            }
            //玩家移动期间禁用骰子，移动完之后再恢复
            if (flag % 2) {
                // var popUp = document.getElementById("win1-over");
                // popUp.style.display = "";
            // console.log(target);
            aposi+=num;//随机摇骰子，玩家位置发生改变
            console.log(player1.offsetLeft);
            console.log(player1.offsetTop);
            flag++;
            Aplayer(num);
        }
        else {
            // target = player2.offsetLeft + num * (-30);
            // console.log(target);
            bposi+=num;//随机摇骰子，玩家位置发生改变
            console.log(player2.offsetLeft);
            console.log(player2.offsetTop);
            flag++;
            Bplayer(num);
        }

    })

    </script>
</body>

</html>
